<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An alternative solver based around the SLG algorithm, which implements the well-formed semantics. For an overview of how the solver works, see The On-Demand SLG Solver in the chalk book."><meta name="keywords" content="rust, rustlang, rust-lang, chalk_engine"><title>chalk_engine - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../chalk_engine/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Crate chalk_engine</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.79.0-dev.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all chalk_engine's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></div><div id="sidebar-vars" data-name="chalk_engine" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../chalk_engine/index.html"><img class="rust-logo" src="../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">chalk_engine</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/chalk_engine/lib.rs.html#1-334" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An alternative solver based around the SLG algorithm, which
implements the well-formed semantics. For an overview of how the solver
works, see <a href="https://rust-lang.github.io/chalk/book/engine/slg.html">The On-Demand SLG Solver</a> in the chalk book.</p>
<p>This algorithm is very closed based on the description found in the
following paper, which I will refer to in the comments as EWFS:</p>
<blockquote>
<p>Efficient Top-Down Computation of Queries Under the Well-founded Semantics
(Chen, Swift, and Warren; Journal of Logic Programming ’95)</p>
</blockquote>
<p>However, to understand that paper, I would recommend first
starting with the following paper, which I will refer to in the
comments as NFTD:</p>
<blockquote>
<p>A New Formulation of Tabled resolution With Delay
(Swift; EPIA ’99)</p>
</blockquote>
<p>In addition, I incorporated extensions from the following papers,
which I will refer to as SA and RR respectively, that
describes how to do introduce approximation when processing
subgoals and so forth:</p>
<blockquote>
<p>Terminating Evaluation of Logic Programs with Finite Three-Valued Models
Riguzzi and Swift; ACM Transactions on Computational Logic 2013
(Introduces “subgoal abstraction”, hence the name SA)</p>
<p>Radial Restraint
Grosof and Swift; 2013</p>
</blockquote>
<p>Another useful paper that gives a kind of high-level overview of
concepts at play is the following, which I will refer to as XSB:</p>
<blockquote>
<p>XSB: Extending Prolog with Tabled Logic Programming
(Swift and Warren; Theory and Practice of Logic Programming ’10)</p>
</blockquote>
<p>While this code is adapted from the algorithms described in those
papers, it is not the same. For one thing, the approaches there
had to be extended to our context, and in particular to coping
with hereditary harrop predicates and our version of unification
(which produces subgoals). I believe those to be largely faithful
extensions. However, there are some other places where I
intentionally diverged from the semantics as described in the
papers – e.g. by more aggressively approximating – which I
marked them with a comment DIVERGENCE. Those places may want to be
evaluated in the future.</p>
<p>Glossary of other terms:</p>
<ul>
<li>WAM: Warren abstract machine, an efficient way to evaluate Prolog programs.
See <a href="http://wambook.sourceforge.net/">http://wambook.sourceforge.net/</a>.</li>
<li>HH: Hereditary harrop predicates. What Chalk deals in.
Popularized by Lambda Prolog.</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="context/index.html" title="chalk_engine::context mod">context</a></div><div class="item-right docblock-short"><p>Defines traits used to embed the chalk-engine in another crate.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="derived/index.html" title="chalk_engine::derived mod">derived</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="forest/index.html" title="chalk_engine::forest mod">forest</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="logic/index.html" title="chalk_engine::logic mod">logic</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="normalize_deep/index.html" title="chalk_engine::normalize_deep mod">normalize_deep</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="simplify/index.html" title="chalk_engine::simplify mod">simplify</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="slg/index.html" title="chalk_engine::slg mod">slg</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="solve/index.html" title="chalk_engine::solve mod">solve</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="stack/index.html" title="chalk_engine::stack mod">stack</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="strand/index.html" title="chalk_engine::strand mod">strand</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="table/index.html" title="chalk_engine::table mod">table</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tables/index.html" title="chalk_engine::tables mod">tables</a></div><div class="item-right docblock-short"></div></div></div><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.index_struct.html" title="chalk_engine::index_struct macro">index_struct</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Answer.html" title="chalk_engine::Answer struct">Answer</a></div><div class="item-right docblock-short"><p>An “answer” in the on-demand solver corresponds to a fully solved
goal for a particular table (modulo delayed literals). It contains
a substitution</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CompleteAnswer.html" title="chalk_engine::CompleteAnswer struct">CompleteAnswer</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ExClause.html" title="chalk_engine::ExClause struct">ExClause</a></div><div class="item-right docblock-short"><p>The paper describes these as <code>A :- D | G</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FlounderedSubgoal.html" title="chalk_engine::FlounderedSubgoal struct">FlounderedSubgoal</a></div><div class="item-right docblock-short"><p>A “floundered” subgoal is one that contains unbound existential
variables for which it cannot produce a value. The classic example
of floundering is a negative subgoal:</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Minimums.html" title="chalk_engine::Minimums struct">Minimums</a></div><div class="item-right docblock-short"><p>The <code>Minimums</code> structure is used to track the dependencies between
some item E on the evaluation stack. In particular, it tracks
cases where the success of E depends (or may depend) on items
deeper in the stack than E (i.e., with lower DFNs).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TableIndex.html" title="chalk_engine::TableIndex struct">TableIndex</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TimeStamp.html" title="chalk_engine::TimeStamp struct">TimeStamp</a></div><div class="item-right docblock-short"><p>The “time stamp” is a simple clock that gets incremented each time
we encounter a positive answer in processing a particular
strand. This is used as an optimization to help us figure out when
we <em>may</em> have changed inference variables.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AnswerMode.html" title="chalk_engine::AnswerMode enum">AnswerMode</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Literal.html" title="chalk_engine::Literal enum">Literal</a></div><div class="item-right docblock-short"><p>Either <code>A</code> or <code>~A</code>, where <code>A</code> is a <code>Env |- Goal</code>.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="chalk_engine" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>